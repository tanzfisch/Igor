// Igor game engine
// (c) Copyright 2014-2016 by Martin Loga
// see copyright notice in corresponding header file

#include "iContouringCubes.h"

namespace Igor
{
    /*

    //       y
    //       |
    //       18-----19-----20
    //      /|     /|     /|
    //     21-----22-----23|
    //    /| |   /| |   /| |
    //   24-----25-----26| |
    //   | | 9--|-|-10-|-|-11
    //   | |/|  | |/|  | |/|
    //   | 12---|-13---|-14|
    //   |/| |  |/| |  |/| |
    //   15-----16-----17| |
    //   | | 0--|-|-1--|-|-2--x
    //   | |/   | |/   | |/
    //   | 3----|-4----|-5
    //   |/     |/     |/
    //   6------7------8
    //  /
    // z
    //
    //        ||
    //       \  /
    //        \/
    //
    //     4------5
    //    /|     /|
    //   6------7 |
    //   | |    | |
    //   | |    | |
    //   | 0----|-1
    //   |/     |/
    //   2------3

    */
    uint8 indexLookup[] =
    {
        0, 2, 6, 8, 18, 20, 24, 26
    };

    /*
    //     4------5         ?------?
    //    /|     /|        /|     /|
    //   6------7 |       ?------? |
    //   | |    | |  -->  | |    | |
    //   | |    | |       | |    | |
    //   | 0----|-1       | ?----|-?
    //   |/     |/        |/     |/
    //   2------3         ?------?

    //        ||
    //       \  /
    //        \/

        bits
        7 6 5 4 3 2 1 0

    //        ||
    //       \  /
    //        \/

        index offset
        0 1 2 3 4 5 6 7
    */
    uint8 offsetLookup[] =
    {                            //index 01234567
        0, 1, 2, 3, 4, 5, 6, 7,  // 0x00 00000000 irrelevant
        0, 0, 0, 0, 0, 0, 0, 0,  // 0x01 10000000 *
        1, 1, 1, 1, 1, 1, 1, 1,  // 0x02 01000000 *
        0, 1, 0, 1, 0, 1, 0, 1,  // 0x03 11000000 *
        2, 2, 2, 2, 2, 2, 2, 2,  // 0x04 00100000 *
        0, 0, 2, 2, 0, 0, 2, 2,  // 0x05 10100000 *
        1, 1, 2, 2, 1, 1, 2, 2,  // 0x06 01100000 *
        0, 1, 2, 0, 0, 1, 1, 0,  // 0x07 11100000 *
        3, 3, 3, 3, 3, 3, 3, 3,  // 0x08 00010000 *
        0, 3, 0, 3, 0, 3, 0, 3,  // 0x09 10010000 *
        1, 1, 3, 3, 1, 1, 3, 3,  // 0x0a 01010000 *
        0, 1, 1, 3, 0, 1, 1, 3,  // 0x0b 11010000 *
        2, 3, 2, 3, 2, 3, 2, 3,  // 0x0c 00110000 *
        0, 2, 2, 3, 0, 2, 2, 3,  // 0x0d 10110000 *
        3, 1, 2, 3, 3, 1, 2, 3,  // 0x0e 01110000 *
        0, 1, 2, 3, 0, 1, 2, 3,  // 0x0f 11110000 *
        4, 4, 4, 4, 4, 4, 4, 4,  // 0x10 00001000 *
        0, 1, 2, 3, 4, 5, 6, 7,  // 0x11 10001000
        0, 1, 2, 3, 4, 5, 6, 7,  // 0x12 01001000
        0, 1, 2, 3, 4, 5, 6, 7,  // 0x13 11001000
        0, 1, 2, 3, 4, 5, 6, 7,  // 0x14 00101000
        0, 1, 2, 3, 4, 5, 6, 7,  // 0x15 10101000
        0, 1, 2, 3, 4, 5, 6, 7,  // 0x16 01101000
        0, 1, 2, 3, 4, 5, 6, 7,  // 0x17 11101000
        0, 1, 2, 3, 4, 5, 6, 7,  // 0x18 00011000
        0, 1, 2, 3, 4, 5, 6, 7,  // 0x19 10011000
        0, 1, 2, 3, 4, 5, 6, 7,  // 0x1a 01011000
        0, 1, 2, 3, 4, 5, 6, 7,  // 0x1b 11011000
        0, 1, 2, 3, 4, 5, 6, 7,  // 0x1c 00111000
        0, 1, 2, 3, 4, 5, 6, 7,  // 0x1d 10111000
        0, 1, 2, 3, 4, 5, 6, 7,  // 0x1e 01111000
        0, 1, 2, 3, 4, 0, 0, 0,  // 0x1f 11111000 *
        0, 1, 2, 3, 4, 5, 6, 7,  // 0x20 00000100
        0, 1, 2, 3, 4, 5, 6, 7,  // 0x21 10000100
        0, 1, 2, 3, 4, 5, 6, 7,  // 0x22 01000100
        0, 1, 2, 3, 4, 5, 6, 7,  // 0x23 11000100
        0, 1, 2, 3, 4, 5, 6, 7,  // 0x24 00100100
        0, 1, 2, 3, 4, 5, 6, 7,  // 0x25 10100100
        0, 1, 2, 3, 4, 5, 6, 7,  // 0x26 01100100
        0, 1, 2, 3, 4, 5, 6, 7,  // 0x27 11100100
        0, 1, 2, 3, 4, 5, 6, 7,  // 0x28 00010100
        0, 1, 2, 3, 4, 5, 6, 7,  // 0x29 10010100
        0, 1, 2, 3, 4, 5, 6, 7,  // 0x2a 01010100
        0, 1, 2, 3, 4, 5, 6, 7,  // 0x2b 11010100
        0, 1, 2, 3, 4, 5, 6, 7,  // 0x2c 00110100
        0, 1, 2, 3, 4, 5, 6, 7,  // 0x2d 10110100
        0, 1, 2, 3, 4, 5, 6, 7,  // 0x2e 01110100
        0, 1, 2, 3, 1, 5, 1, 1,  // 0x2f 11110100 *
        0, 1, 2, 3, 4, 5, 6, 7,  // 0x30 00001100
        0, 1, 2, 3, 4, 5, 6, 7,  // 0x31 10001100
        0, 1, 2, 3, 4, 5, 6, 7,  // 0x32 01001100
        0, 1, 2, 3, 4, 5, 6, 7,  // 0x33 11001100
        0, 1, 2, 3, 4, 5, 6, 7,  // 0x34 00101100
        0, 1, 2, 3, 4, 5, 6, 7,  // 0x35 10101100
        0, 1, 2, 3, 4, 5, 6, 7,  // 0x36 01101100
        0, 1, 2, 3, 4, 5, 6, 7,  // 0x37 11101100
        0, 1, 2, 3, 4, 5, 6, 7,  // 0x38 00011100
        0, 1, 2, 3, 4, 5, 6, 7,  // 0x39 10011100
        0, 1, 2, 3, 4, 5, 6, 7,  // 0x3a 01011100
        0, 1, 2, 3, 4, 5, 6, 7,  // 0x3b 11011100
        0, 1, 2, 3, 4, 5, 6, 7,  // 0x3c 00111100
        0, 1, 2, 3, 4, 5, 6, 7,  // 0x3d 10111100
        0, 1, 2, 3, 4, 5, 6, 7,  // 0x3e 01111100
        0, 1, 2, 3, 4, 5, 0, 1,  // 0x3f 11111100 *
        0, 1, 2, 3, 4, 5, 6, 7,  // 0x40 00000010
        0, 1, 2, 3, 4, 5, 6, 7,  // 0x41 10000010
        0, 1, 2, 3, 4, 5, 6, 7,  // 0x42 01000010
        0, 1, 2, 3, 4, 5, 6, 7,  // 0x43 11000010
        0, 1, 2, 3, 4, 5, 6, 7,  // 0x44 00100010
        0, 1, 2, 3, 4, 5, 6, 7,  // 0x45 10100010
        0, 1, 2, 3, 4, 5, 6, 7,  // 0x46 01100010
        0, 1, 2, 3, 4, 5, 6, 7,  // 0x47 11100010
        0, 1, 2, 3, 4, 5, 6, 7,  // 0x48 00010010
        0, 1, 2, 3, 4, 5, 6, 7,  // 0x49 10010010
        0, 1, 2, 3, 4, 5, 6, 7,  // 0x4a 01010010
        0, 1, 2, 3, 4, 5, 6, 7,  // 0x4b 11010010
        0, 1, 2, 3, 4, 5, 6, 7,  // 0x4c 00110010
        0, 1, 2, 3, 4, 5, 6, 7,  // 0x4d 10110010
        0, 1, 2, 3, 4, 5, 6, 7,  // 0x4e 01110010
        0, 1, 2, 3, 4, 5, 6, 7,  // 0x4f 11110010
        0, 1, 2, 3, 4, 5, 6, 7,  // 0x50 00001010
        0, 1, 2, 3, 4, 5, 6, 7,  // 0x51 10001010
        0, 1, 2, 3, 4, 5, 6, 7,  // 0x52 01001010
        0, 1, 2, 3, 4, 5, 6, 7,  // 0x53 11001010
        0, 1, 2, 3, 4, 5, 6, 7,  // 0x54 00101010
        0, 1, 2, 3, 4, 5, 6, 7,  // 0x55 10101010
        0, 1, 2, 3, 4, 5, 6, 7,  // 0x56 01101010
        0, 1, 2, 3, 4, 5, 6, 7,  // 0x57 11101010
        0, 1, 2, 3, 4, 5, 6, 7,  // 0x58 00011010
        0, 1, 2, 3, 4, 5, 6, 7,  // 0x59 10011010
        0, 1, 2, 3, 4, 5, 6, 7,  // 0x5a 01011010
        0, 1, 2, 3, 4, 5, 6, 7,  // 0x5b 11011010
        0, 1, 2, 3, 4, 5, 6, 7,  // 0x5c 00111010
        0, 1, 2, 3, 4, 5, 6, 7,  // 0x5d 10111010
        0, 1, 2, 3, 4, 5, 6, 7,  // 0x5e 01111010
        0, 1, 2, 3, 4, 5, 6, 7,  // 0x5f 11111010
        0, 1, 2, 3, 4, 5, 6, 7,  // 0x60 00000110
        0, 1, 2, 3, 4, 5, 6, 7,  // 0x61 10000110
        0, 1, 2, 3, 4, 5, 6, 7,  // 0x62 01000110
        0, 1, 2, 3, 4, 5, 6, 7,  // 0x63 11000110
        0, 1, 2, 3, 4, 5, 6, 7,  // 0x64 00100110
        0, 1, 2, 3, 4, 5, 6, 7,  // 0x65 10100110
        0, 1, 2, 3, 4, 5, 6, 7,  // 0x66 01100110
        0, 1, 2, 3, 4, 5, 6, 7,  // 0x67 11100110
        0, 1, 2, 3, 4, 5, 6, 7,  // 0x68 00010110
        0, 1, 2, 3, 4, 5, 6, 7,  // 0x69 10010110
        0, 1, 2, 3, 4, 5, 6, 7,  // 0x6a 01010110
        0, 1, 2, 3, 4, 5, 6, 7,  // 0x6b 11010110
        0, 1, 2, 3, 4, 5, 6, 7,  // 0x6c 00110110
        0, 1, 2, 3, 4, 5, 6, 7,  // 0x6d 10110110
        0, 1, 2, 3, 4, 5, 6, 7,  // 0x6e 01110110
        0, 1, 2, 3, 4, 5, 6, 7,  // 0x6f 11110110
        0, 1, 2, 3, 4, 5, 6, 7,  // 0x70 00001110
        0, 1, 2, 3, 4, 5, 6, 7,  // 0x71 10001110
        0, 1, 2, 3, 4, 5, 6, 7,  // 0x72 01001110
        0, 1, 2, 3, 4, 5, 6, 7,  // 0x73 11001110
        0, 1, 2, 3, 4, 5, 6, 7,  // 0x74 00101110
        0, 1, 2, 3, 4, 5, 6, 7,  // 0x75 10101110
        0, 1, 2, 3, 4, 5, 6, 7,  // 0x76 01101110
        0, 1, 2, 3, 4, 5, 6, 7,  // 0x77 11101110
        0, 1, 2, 3, 4, 5, 6, 7,  // 0x78 00011110
        0, 1, 2, 3, 4, 5, 6, 7,  // 0x79 10011110
        0, 1, 2, 3, 4, 5, 6, 7,  // 0x7a 01011110
        0, 1, 2, 3, 4, 5, 6, 7,  // 0x7b 11011110
        0, 1, 2, 3, 4, 5, 6, 7,  // 0x7c 00111110
        0, 1, 2, 3, 4, 5, 6, 7,  // 0x7d 10111110
        0, 1, 2, 3, 4, 5, 6, 7,  // 0x7e 01111110
        0, 1, 2, 3, 4, 5, 6, 0,  // 0x7f 11111110 *
        0, 1, 2, 3, 4, 5, 6, 7,  // 0x80 00000001
        0, 1, 2, 3, 4, 5, 6, 7,  // 0x81 10000001
        0, 1, 2, 3, 4, 5, 6, 7,  // 0x82 01000001
        0, 1, 2, 3, 4, 5, 6, 7,  // 0x83 11000001
        0, 1, 2, 3, 4, 5, 6, 7,  // 0x84 00100001
        0, 1, 2, 3, 4, 5, 6, 7,  // 0x85 10100001
        0, 1, 2, 3, 4, 5, 6, 7,  // 0x86 01100001
        0, 1, 2, 3, 4, 5, 6, 7,  // 0x87 11100001
        0, 1, 2, 3, 4, 5, 6, 7,  // 0x88 00010001
        0, 1, 2, 3, 4, 5, 6, 7,  // 0x89 10010001
        0, 1, 2, 3, 4, 5, 6, 7,  // 0x8a 01010001
        0, 1, 2, 3, 4, 5, 6, 7,  // 0x8b 11010001
        0, 1, 2, 3, 4, 5, 6, 7,  // 0x8c 00110001
        0, 1, 2, 3, 4, 5, 6, 7,  // 0x8d 10110001
        0, 1, 2, 3, 4, 5, 6, 7,  // 0x8e 01110001
        0, 1, 2, 3, 3, 4, 4, 7,  // 0x8f 11110001 *
        0, 1, 2, 3, 4, 5, 6, 7,  // 0x90 00001001
        0, 1, 2, 3, 4, 5, 6, 7,  // 0x91 10001001
        0, 1, 2, 3, 4, 5, 6, 7,  // 0x92 01001001
        0, 1, 2, 3, 4, 5, 6, 7,  // 0x93 11001001
        0, 1, 2, 3, 4, 5, 6, 7,  // 0x94 00101001
        0, 1, 2, 3, 4, 5, 6, 7,  // 0x95 10101001
        0, 1, 2, 3, 4, 5, 6, 7,  // 0x96 01101001
        0, 1, 2, 3, 4, 5, 6, 7,  // 0x97 11101001
        0, 1, 2, 3, 4, 5, 6, 7,  // 0x98 00011001
        0, 1, 2, 3, 4, 5, 6, 7,  // 0x99 10011001
        0, 1, 2, 3, 4, 5, 6, 7,  // 0x9a 01011001
        0, 1, 2, 3, 4, 5, 6, 7,  // 0x9b 11011001
        0, 1, 2, 3, 4, 5, 6, 7,  // 0x9c 00111001
        0, 1, 2, 3, 4, 5, 6, 7,  // 0x9d 10111001
        0, 1, 2, 3, 4, 5, 6, 7,  // 0x9e 01111001
        0, 1, 2, 3, 4, 5, 6, 7,  // 0x9f 11111001
        5, 5, 7, 7, 5, 5, 7, 7,  // 0xa0 00000101 *
        0, 1, 2, 3, 4, 5, 6, 7,  // 0xa1 10000101
        0, 1, 2, 3, 4, 5, 6, 7,  // 0xa2 01000101
        0, 1, 2, 3, 4, 5, 6, 7,  // 0xa3 11000101
        0, 1, 2, 3, 4, 5, 6, 7,  // 0xa4 00100101
        0, 1, 2, 3, 4, 5, 6, 7,  // 0xa5 10100101
        0, 1, 2, 3, 4, 5, 6, 7,  // 0xa6 01100101
        0, 1, 2, 3, 4, 5, 6, 7,  // 0xa7 11100101
        0, 1, 2, 3, 4, 5, 6, 7,  // 0xa8 00010101
        0, 1, 2, 3, 4, 5, 6, 7,  // 0xa9 10010101
        0, 1, 2, 3, 4, 5, 6, 7,  // 0xaa 01010101
        0, 1, 2, 3, 4, 5, 6, 7,  // 0xab 11010101
        0, 1, 2, 3, 4, 5, 6, 7,  // 0xac 00110101
        0, 1, 2, 3, 4, 5, 6, 7,  // 0xad 10110101
        0, 1, 2, 3, 4, 5, 6, 7,  // 0xae 01110101
        0, 1, 2, 3, 4, 5, 6, 7,  // 0xaf 11110101
        4, 5, 5, 7, 4, 5, 5, 7,  // 0xb0 00001101 *
        0, 1, 2, 3, 4, 5, 6, 7,  // 0xb1 10001101
        0, 1, 2, 3, 4, 5, 6, 7,  // 0xb2 01001101
        0, 1, 2, 3, 4, 5, 6, 7,  // 0xb3 11001101
        0, 1, 2, 3, 4, 5, 6, 7,  // 0xb4 00101101
        0, 1, 2, 3, 4, 5, 6, 7,  // 0xb5 10101101
        0, 1, 2, 3, 4, 5, 6, 7,  // 0xb6 01101101
        0, 1, 2, 3, 4, 5, 6, 7,  // 0xb7 11101101
        0, 1, 2, 3, 4, 5, 6, 7,  // 0xb8 00011101
        0, 1, 2, 3, 4, 5, 6, 7,  // 0xb9 10011101
        0, 1, 2, 3, 4, 5, 6, 7,  // 0xba 01011101
        0, 1, 2, 3, 4, 5, 6, 7,  // 0xbb 11011101
        0, 1, 2, 3, 4, 5, 6, 7,  // 0xbc 00111101
        0, 1, 2, 3, 4, 5, 6, 7,  // 0xbd 10111101
        0, 1, 2, 3, 4, 5, 6, 7,  // 0xbe 01111101
        0, 1, 2, 3, 4, 5, 1, 7,  // 0xbf 11111101 *
        0, 1, 2, 3, 4, 5, 6, 7,  // 0xc0 00000011
        0, 1, 2, 3, 4, 5, 6, 7,  // 0xc1 10000011
        0, 1, 2, 3, 4, 5, 6, 7,  // 0xc2 01000011
        0, 1, 2, 3, 4, 5, 6, 7,  // 0xc3 11000011
        0, 1, 2, 3, 4, 5, 6, 7,  // 0xc4 00100011
        0, 1, 2, 3, 4, 5, 6, 7,  // 0xc5 10100011
        0, 1, 2, 3, 4, 5, 6, 7,  // 0xc6 01100011
        0, 1, 2, 3, 4, 5, 6, 7,  // 0xc7 11100011
        0, 1, 2, 3, 4, 5, 6, 7,  // 0xc8 00010011
        0, 1, 2, 3, 4, 5, 6, 7,  // 0xc9 10010011
        0, 1, 2, 3, 4, 5, 6, 7,  // 0xca 01010011
        0, 1, 2, 3, 4, 5, 6, 7,  // 0xcb 11010011
        0, 1, 2, 3, 4, 5, 6, 7,  // 0xcc 00110011
        0, 1, 2, 3, 4, 5, 6, 7,  // 0xcd 10110011
        0, 1, 2, 3, 4, 5, 6, 7,  // 0xce 01110011
        0, 1, 2, 3, 4, 5, 6, 7,  // 0xcf 11110011
        0, 1, 2, 3, 4, 5, 6, 7,  // 0xd0 00001011
        0, 1, 2, 3, 4, 5, 6, 7,  // 0xd1 10001011
        0, 1, 2, 3, 4, 5, 6, 7,  // 0xd2 01001011
        0, 1, 2, 3, 4, 5, 6, 7,  // 0xd3 11001011
        0, 1, 2, 3, 4, 5, 6, 7,  // 0xd4 00101011
        0, 1, 2, 3, 4, 5, 6, 7,  // 0xd5 10101011
        0, 1, 2, 3, 4, 5, 6, 7,  // 0xd6 01101011
        0, 1, 2, 3, 4, 5, 6, 7,  // 0xd7 11101011
        0, 1, 2, 3, 4, 5, 6, 7,  // 0xd8 00011011
        0, 1, 2, 3, 4, 5, 6, 7,  // 0xd9 10011011
        0, 1, 2, 3, 4, 5, 6, 7,  // 0xda 01011011
        0, 1, 2, 3, 4, 5, 6, 7,  // 0xdb 11011011
        0, 1, 2, 3, 4, 5, 6, 7,  // 0xdc 00111011
        0, 1, 2, 3, 4, 5, 6, 7,  // 0xdd 10111011
        0, 1, 2, 3, 4, 5, 6, 7,  // 0xde 01111011
        0, 1, 2, 3, 4, 2, 6, 7,  // 0xdf 11111011 *
        7, 5, 6, 7, 7, 5, 6, 7,  // 0xe0 00000111 *
        0, 1, 2, 3, 4, 5, 6, 7,  // 0xe1 10000111
        0, 1, 2, 3, 4, 5, 6, 7,  // 0xe2 01000111
        0, 1, 2, 3, 4, 5, 6, 7,  // 0xe3 11000111
        0, 1, 2, 3, 4, 5, 6, 7,  // 0xe4 00100111
        0, 1, 2, 3, 4, 5, 6, 7,  // 0xe5 10100111
        0, 1, 2, 3, 4, 5, 6, 7,  // 0xe6 01100111
        0, 1, 2, 3, 4, 5, 6, 7,  // 0xe7 11100111
        0, 1, 2, 3, 4, 5, 6, 7,  // 0xe8 00010111
        0, 1, 2, 3, 4, 5, 6, 7,  // 0xe9 10010111
        0, 1, 2, 3, 4, 5, 6, 7,  // 0xea 01010111
        0, 1, 2, 3, 4, 5, 6, 7,  // 0xeb 11010111
        0, 1, 2, 3, 4, 5, 6, 7,  // 0xec 00110111
        0, 1, 2, 3, 4, 5, 6, 7,  // 0xed 10110111
        0, 1, 2, 3, 4, 5, 6, 7,  // 0xee 01110111
        0, 1, 2, 3, 3, 5, 6, 7,  // 0xef 11110111 *
        4, 5, 6, 7, 4, 5, 6, 7,  // 0xf0 00001111 *
        0, 4, 4, 4, 4, 5, 6, 7,  // 0xf1 10001111 *
        0, 1, 2, 3, 4, 5, 6, 7,  // 0xf2 01001111
        0, 1, 4, 5, 4, 5, 6, 7,  // 0xf3 11001111 *
        0, 1, 2, 3, 4, 5, 6, 7,  // 0xf4 00101111
        0, 1, 2, 3, 4, 5, 6, 7,  // 0xf5 10101111
        0, 1, 2, 3, 4, 5, 6, 7,  // 0xf6 01101111
        0, 1, 2, 4, 4, 5, 6, 7,  // 0xf7 11101111 *
        0, 1, 2, 3, 4, 5, 6, 7,  // 0xf8 00011111
        0, 1, 2, 3, 4, 5, 6, 7,  // 0xf9 10011111
        5, 1, 7, 3, 4, 5, 6, 7,  // 0xfa 01011111 *
        0, 1, 5, 3, 4, 5, 6, 7,  // 0xfb 11011111 *
        6, 7, 2, 3, 4, 5, 6, 7,  // 0xfc 00111111 *
        0, 1, 2, 3, 4, 5, 6, 7,  // 0xfd 10111111
        7, 1, 2, 3, 4, 5, 6, 7,  // 0xfe 01111111 *
        0, 1, 2, 3, 4, 5, 6, 7   // 0xff 11111111 irrelevant
    };
}































































































































































































































































