<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
		<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
		<meta http-equiv="X-UA-Compatible" content="IE=9"/>
		<meta name="generator" content="Doxygen 1.8.8"/>
		<meta name="viewport" content="width=device-width, initial-scale=1"/>
		<title>Igor: Example04_3D_Rendering.md Source File</title>
		<link href="tabs.css" rel="stylesheet" type="text/css"/>
		<script type="text/javascript" src="jquery.js"></script>
		<script type="text/javascript" src="dynsections.js"></script>
		<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
		<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
		<link href="doxygen.css" rel="stylesheet" type="text/css" />
		<link href="custom.css" rel="stylesheet" type="text/css"/>
<link href="custom_dark_theme.css" rel="stylesheet" type="text/css"/>
	</head>
	<body>
	<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
		<div id="titlearea">
			<table cellspacing="0" cellpadding="0">
				<tbody>
					<tr>
						<td id="projectlogo">                        
                            <div style="position: relative; height: 120px; width: 440px;">
                                <div style="position: absolute; float: right; right: 30px; bottom: 10px; z-index: 1000; background-color: transparent;">0.20.0</div>
                                <img alt="Logo" src="logo.png"></img>                            
                            </div>
                        </td>                            
					</tr>
				</tbody>
			</table>
		</div>
		<!-- end header part --><!-- Generated by Doxygen 1.8.8 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('_example04__3_d___rendering_8md.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Example04_3D_Rendering.md</div>  </div>
</div><!--header-->
<div class="contents">
<a href="_example04__3_d___rendering_8md.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;3D Rendering Example                                     {#example04}</div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;====================</div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;</div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;The 3D example shows how to load models and place them in to a 3D scene. It also introduces light, lod and switch nodes ([youtube](https://www.youtube.com/watch?v=UQ7iFGFOv10)).</div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;</div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;Build</div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;=====</div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;</div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;The code for this example can be found in the folder examples/04 3D. In a vs[ver] sub folder you will find a visual studio solution which contains example project but also all dependent projects. So you just open this one and than build and start. If everything went right you gonna see the following screen. If not please don&#39;t hesitate to contact [tanzfisch](https://github.com/tanzfisch).</div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;</div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;![3D Rendering Example](/images/Example04_Pic1.png)</div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;</div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;There is also a short youtube clip [3D Example](https://www.youtube.com/watch?v=UQ7iFGFOv10).</div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;</div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;Interaction</div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;===========</div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;</div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;In this example we have some user inputs. Following a list.</div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;* hold left mouse button and move to rotate the camera around the origin of the scene</div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;* hold right mouse button and move to rotate a group of models around the origin</div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;* use mouse wheel to change distance of camera to origin (so you can see the change in LOD)</div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;* press **Space** to toggle the switch node</div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;* press **F1** for print the current scene to the console</div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;* press **ESC** to quit</div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;</div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;Code</div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;====</div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;</div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;Let&#39;s start with initializing the scene inside the init method. Igor can handle multiple scenes but most of the time one is enough. In order to make Igot display a scene on screen we need to bind it to a view which was added to a window.</div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;</div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;    // init scene</div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;    _scene = iSceneFactory::getInstance().createScene();</div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;    // bind scene to perspective view</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;    _view.setScene(_scene);</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;First thing we add to the scene is a camera. To position the camera somewhere else then in the origin it must be child of at least one transformation node. In Igor any combination of node types as children of other nodes is valid.</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;    // setup camera</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;    // we want a camera which can be rotated arround the origin</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;    // we will acchive that with 3 transform nodes</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;    // one is for the heading</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;    iNodeTransform* cameraHeading = static_cast&lt;iNodeTransform*&gt;(iNodeFactory::getInstance().createNode(iNodeType::iNodeTransform));</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;    // give the transform node a name. naming is optional and ist jus for helping to debug. </div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;    // Names do not have to be unique but since it is possible to find nodes by name they better are</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;    cameraHeading-&gt;setName(&quot;camera heading&quot;);</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;    _cameraHeading = cameraHeading-&gt;getID();</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;    // one is for the pitch</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;    iNodeTransform* cameraPitch = static_cast&lt;iNodeTransform*&gt;(iNodeFactory::getInstance().createNode(iNodeType::iNodeTransform));</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;    cameraPitch-&gt;setName(&quot;camera pitch&quot;);</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;    _cameraPitch = cameraPitch-&gt;getID();</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;    // and one is for translation or distance from the origin</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;    iNodeTransform* cameraTranslation = static_cast&lt;iNodeTransform*&gt;(iNodeFactory::getInstance().createNode(iNodeType::iNodeTransform));</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;    cameraTranslation-&gt;setName(&quot;camera translation&quot;);</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;    // translate away from origin</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;    cameraTranslation-&gt;translate(0, 0, 10);</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;    _cameraTranslation = cameraTranslation-&gt;getID();</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;    // from all nodes that we want to control later we save the node ID</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;    // and last but not least we create a camera node</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;    iNodeCamera* camera = static_cast&lt;iNodeCamera*&gt;(iNodeFactory::getInstance().createNode(iNodeType::iNodeCamera));</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;    camera-&gt;setName(&quot;camera&quot;);</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;    // and build everything together</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;    // first we add the heading to the root node</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;    _scene-&gt;getRoot()-&gt;insertNode(cameraHeading);</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;    // than the pitch to the heading node</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;    cameraHeading-&gt;insertNode(cameraPitch);</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;    // then the translation to the pitch node</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;    cameraPitch-&gt;insertNode(cameraTranslation);</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;    // and than we add the camera to the translation</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;    cameraTranslation-&gt;insertNode(camera);</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;    // and finally we set the camera active. for this to work a camera must be part of a scene </div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;    // wich we achived by adding all those nodes on to an other starting with the root node</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;    camera-&gt;makeCurrent();</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;Only one camera per scene can be active at a time. If an other camera was active already it will be deactivated.</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;Next we have a look at how to add a model node.</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;    // create a single cat model</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;    iNodeTransform* justCatTransform = static_cast&lt;iNodeTransform*&gt;(iNodeFactory::getInstance().createNode(iNodeType::iNodeTransform));</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;    justCatTransform-&gt;setName(&quot;just a cat transform&quot;);</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;    justCatTransform-&gt;translate(0, 1, 0);</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;    // create a cat model</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;    iNodeModel* justCatModel = static_cast&lt;iNodeModel*&gt;(iNodeFactory::getInstance().createNode(iNodeType::iNodeModel));</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;    // Node model names can be altered but they also are generated based on the file name</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;    justCatModel-&gt;setModel(&quot;cat.ompf&quot;);</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;    // building the created nodes together and insert them in the scene</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;    _scene-&gt;getRoot()-&gt;insertNode(justCatTransform);</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;    justCatTransform-&gt;insertNode(justCatModel);</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;The *.ompf model will be located by Igor within the predefined search paths.</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;Now we are going to take a look at the switch node. It is a node that can set on of it&#39;s children active while all the others are inactive. One scenario for this could be a model of a vehicle and a model of a vehicle that is broken or burned out. And when ever the vehicle is broken you can just flip the switch. In the example we add 3 nodes to the switch node.</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;    // creating the switch node</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;    iNodeSwitch* switchNode = static_cast&lt;iNodeSwitch*&gt;(iNodeFactory::getInstance().createNode(iNodeType::iNodeSwitch));</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;    _switchNode = switchNode-&gt;getID();</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;    // add the switch node to the all objects pitch / group</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;    allObjectsPitch-&gt;insertNode(switchNode);</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;    // than add the transform nodes to the switch node</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;    switchNode-&gt;insertNode(crateTransform);</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;    switchNode-&gt;insertNode(teapotTransform);</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;    switchNode-&gt;insertNode(catTransform);</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;    // set the current activated child</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;    switchNode-&gt;setActiveChild(&quot;crate transform&quot;);</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;Similar to the switch node. Is the LOD switch node. Again it has multiple children and again it controls where a child is active or not. But this time it depends on the distance to an LOD trigger node which we attach in this case to the camera.</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;    // creating the LOD switch node</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;    iNodeLODSwitch* lodswitch = static_cast&lt;iNodeLODSwitch*&gt;(iNodeFactory::getInstance().createNode(iNodeType::iNodeLODSwitch));</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;    // add it to the scene</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;    allObjectsPitch-&gt;insertNode(lodswitch);</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;    // and add the nodes to it</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;    lodswitch-&gt;insertNode(lod0Transform);</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;    lodswitch-&gt;insertNode(lod1Transform);</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;    lodswitch-&gt;insertNode(lod2Transform);</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;    // set up the nodes switch distances. the switch distances are allowed to have gaps or overlap</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;    lodswitch-&gt;setThresholds(lod0Transform, 0.0f, 5.0f);</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;    lodswitch-&gt;setThresholds(lod1Transform, 5.0f, 11.0f);</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;    lodswitch-&gt;setThresholds(lod2Transform, 11.0f, 22.0f);</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;    // in order to causing the LOD switch to change the active child node it needs to be triggered by a LOD trigger node</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;    // creating the lod trigger node</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;    iNodeLODTrigger* lodtrigger = static_cast&lt;iNodeLODTrigger*&gt;(iNodeFactory::getInstance().createNode(iNodeType::iNodeLODTrigger));</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;    // bind the lod switch node with the lod trigger node</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;    lodswitch-&gt;addTrigger(lodtrigger);</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;    // and add the lod trigger to the scene by attaching it to the camera. there can be multiple LOD triggers and any lod switch can react on any lod trigger</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;    camera-&gt;insertNode(lodtrigger);</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;Let&#39;s add also a sky box as background for better orientation.</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;    // create a skybox</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;    iNodeSkyBox* skyBoxNode = static_cast&lt;iNodeSkyBox*&gt;(iNodeFactory::getInstance().createNode(iNodeType::iNodeSkyBox));</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;    // set it up with the default skybox texture</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;    skyBoxNode-&gt;setTextures(</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;        &quot;skybox_default/front.png&quot;,</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;        &quot;skybox_default/back.png&quot;,</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;        &quot;skybox_default/left.png&quot;,</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;        &quot;skybox_default/right.png&quot;,</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;        &quot;skybox_default/top.png&quot;,</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;        &quot;skybox_default/bottom.png&quot;);</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;    // manipulate the texture scale so we can see the repeating pattern of the textures</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;    skyBoxNode-&gt;setTextureScale(10);</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;    // create a material for the sky box because the default material for all iNodeRender and deriving classes has no textures and uses depth test</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;    _materialSkyBox = iMaterialResourceFactory::getInstance().createMaterial();</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;    iMaterialResourceFactory::getInstance().getMaterial(_materialSkyBox)-&gt;getRenderStateSet().setRenderState(iRenderState::DepthTest, iRenderStateValue::Off);</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;    iMaterialResourceFactory::getInstance().getMaterial(_materialSkyBox)-&gt;getRenderStateSet().setRenderState(iRenderState::Texture2D0, iRenderStateValue::On);</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;    iMaterialResourceFactory::getInstance().getMaterialGroup(_materialSkyBox)-&gt;setOrder(iMaterial::RENDER_ORDER_EARLY);</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;    iMaterialResourceFactory::getInstance().getMaterialGroup(_materialSkyBox)-&gt;getMaterial()-&gt;setName(&quot;SkyBox&quot;);</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;    // set that material</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;    skyBoxNode-&gt;setMaterial(_materialSkyBox);</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;    // and add it to the scene</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;    _scene-&gt;getRoot()-&gt;insertNode(skyBoxNode);</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;And also switch the light on.</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;    // setup light</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;    // transform node for the lights orientation</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;    iNodeTransform* directionalLightRotate = static_cast&lt;iNodeTransform*&gt;(iNodeFactory::getInstance().createNode(iNodeType::iNodeTransform));</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;    // keep transform node id so we can manipulate the light&#39;s position later</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;    _directionalLightRotate = directionalLightRotate-&gt;getID();</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;    // transform node for the lights distance to the origin</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;    iNodeTransform* directionalLightTranslate = static_cast&lt;iNodeTransform*&gt;(iNodeFactory::getInstance().createNode(iNodeType::iNodeTransform));</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;    directionalLightTranslate-&gt;translate(100, 100, 100);</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;    // the light node</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;    iNodeLight* lightNode = static_cast&lt;iNodeLight*&gt;(iNodeFactory::getInstance().createNode(iNodeType::iNodeLight));</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;    lightNode-&gt;setAmbient(iaColor4f(0.3f, 0.3f, 0.3f, 1.0f));</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;    lightNode-&gt;setDiffuse(iaColor4f(0.8f, 0.8f, 0.8f, 1.0f));</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;    lightNode-&gt;setSpecular(iaColor4f(1.0f, 1.0f, 1.0f, 1.0f));</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;    // insert light to scene</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;    _scene-&gt;getRoot()-&gt;insertNode(directionalLightRotate);</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;    directionalLightRotate-&gt;insertNode(directionalLightTranslate);</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;    directionalLightTranslate-&gt;insertNode(lightNode);</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;For Manipulating the transform nodes have a look at onMouseWheel and onMouseMoved.</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;And that&#39;s it. For further questions please contact [tanzfisch](https://github.com/tanzfisch).</div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
		<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
			<ul>
				<li class="navelem"><a class="el" href="_example04__3_d___rendering_8md.html">Example04_3D_Rendering.md</a></li>
				<li class="footer">
					Generated on Sat May 25 2019 16:07:59 for Igor by <a href="http://www.doxygen.org/index.html">
					<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.8.
					Dark theme by <a href="http://majerle.eu" target="_new">Tilen Majerle</a>. All rights reserved.
				</li>
			</ul>
		</div>
		<script src="custom.js"></script>
	</body>
</html>