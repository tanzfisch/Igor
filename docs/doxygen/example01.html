<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
		<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
		<meta http-equiv="X-UA-Compatible" content="IE=9"/>
		<meta name="generator" content="Doxygen 1.8.8"/>
		<meta name="viewport" content="width=device-width, initial-scale=1"/>
		<title>Igor: Keyboard Usage Example</title>
		<link href="tabs.css" rel="stylesheet" type="text/css"/>
		<script type="text/javascript" src="jquery.js"></script>
		<script type="text/javascript" src="dynsections.js"></script>
		<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
		<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
		<link href="doxygen.css" rel="stylesheet" type="text/css" />
		<link href="custom.css" rel="stylesheet" type="text/css"/>
<link href="custom_dark_theme.css" rel="stylesheet" type="text/css"/>
	</head>
	<body>
	<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
		<div id="titlearea">
			<table cellspacing="0" cellpadding="0">
				<tbody>
					<tr>
						<td id="projectlogo">                        
                            <div style="position: relative; height: 120px; width: 440px;">
                                <div style="position: absolute; float: right; right: 30px; bottom: 10px; z-index: 1000; background-color: transparent;">0.20.0</div>
                                <img alt="Logo" src="logo.png"></img>                            
                            </div>
                        </td>                            
					</tr>
				</tbody>
			</table>
		</div>
		<!-- end header part --><!-- Generated by Doxygen 1.8.8 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('example01.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Keyboard Usage Example </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>In this tutorial we have a look at Keyboard input and how to set up a window.</p>
<h1>Build </h1>
<p>The code for this example can be found in the folder examples/01 Keyboard. In a vs[ver] subfolder you will find a visual studio solution which contains example project but also all dependent projects. So you just open this one and than build and start. If everything went right you gonna see the following screen. If not please don't hasitate to contact <a href="https://github.com/tanzfisch">tanzfisch</a>.</p>
<div class="image">
<img src="Example01_Pic1.png" alt="Example01_Pic1.png"/>
<div class="caption">
Keyboard Example</div></div>
 <h1>KeyboardExample class </h1>
<p>Let's have a brief look at the header. So there is two new includes. iWindow because we gonna need a window to receive the keyboard messages and iKeyCodeMap because the callbacks to handle the keyboard messages will receive a type called iKeyCode which is <a class="el" href="namespace_igor.html">Igor</a> specific key codes. </p><pre class="fragment">#include &lt;iWindow.h&gt;
#include &lt;iKeyCodeMap.h&gt;
using namespace Igor;
</pre><p>Next we have a member variable of type iWindow which is the window's instance that we gonna use. </p><pre class="fragment">iWindow _window;
</pre><p>And there are a couple of event handlers related to keyboard and window events. </p><pre class="fragment">void onKeyPressed(iKeyCode key);
void onKeyReleased(iKeyCode key);
void onKeyASCIIInput(char c);
void onKeyESCPressed();
void onCloseWindow();
</pre><p>Let's have a look at the implementation part now. So there is an other new include this time for the actual Keyboard. </p><pre class="fragment">#include &lt;iKeyboard.h&gt;
using namespace Igor;
</pre><p>We need that so we can register our callbacks to some key press or release events. Which happens in our init method. Let's have a look at that init method. First we setup and open a window. </p><pre class="fragment">// init window
_window.setTitle("Keyboard Example");
// opening the window will result in a warning since we have no view to render to defined. but for this example we don't need anything to render
_window.open(); 
// need to know when the window was closed so we can shut down the application
_window.registerWindowCloseDelegate(WindowCloseDelegate(this, &amp;KeyboardExample::onCloseWindow));
</pre><p>As you probably noticed there is a warning during runtime. I means that the window was opened even though there was no view attached to it. So it is allowed to have a window without a view but in generall it does not make sence there for this warning reminds you of that when you accidentally forgot to register a view to the window.</p>
<p>And than we register some callbacks to keyboard events. </p><pre class="fragment">// registers a callback to the key pressed event. called when any key was pressed
iKeyboard::getInstance().registerKeyDownDelegate(iKeyDownDelegate(this, &amp;KeyboardExample::onKeyPressed));
// registers a callback to the key release event. called when any key was released
iKeyboard::getInstance().registerKeyUpDelegate(iKeyUpDelegate(this, &amp;KeyboardExample::onKeyReleased));
// registers a callback to the specific key pressed event. In this case the ESC key. called only when the esc key was pressed
iKeyboard::getInstance().registerKeyDownDelegate(iKeyDownSpecificDelegate(this, &amp;KeyboardExample::onKeyESCPressed), iKeyCode::ESC);
// registers a callback to the ASCII input event. called for every ascii input event
iKeyboard::getInstance().registerKeyASCIIDelegate(iKeyASCIIDelegate(this, &amp;KeyboardExample::onKeyASCIIInput));
</pre><p>So that's it for the initialisation. Let's have a look at the deinit method too. </p><pre class="fragment">// unregisters all callbacks. in principle this is optional because we shut down here anyway but if you want a clean shutdown you should do that
iKeyboard::getInstance().unregisterKeyASCIIDelegate(iKeyASCIIDelegate(this, &amp;KeyboardExample::onKeyASCIIInput));
iKeyboard::getInstance().unregisterKeyDownDelegate(iKeyDownDelegate(this, &amp;KeyboardExample::onKeyPressed));
iKeyboard::getInstance().unregisterKeyUpDelegate(iKeyUpDelegate(this, &amp;KeyboardExample::onKeyReleased));
iKeyboard::getInstance().unregisterKeyDownDelegate(iKeyDownSpecificDelegate(this, &amp;KeyboardExample::onKeyESCPressed), iKeyCode::ESC);

// closes the window if it was not closed already
_window.close();
// unregisters an other callback
_window.unregisterWindowCloseDelegate(WindowCloseDelegate(this, &amp;KeyboardExample::onCloseWindow));
</pre><p>Pretty self explanatory. Also in the implementation of our callbacks there is nothing suprising except for onCloseWindow. </p><pre class="fragment">void KeyboardExample::onCloseWindow()
{
    con_endl("windows was closed");
    // stop the application of the window was closed. 
    // because once the window is closed we loose the keyboard input and we have to close the console manually (with e.g. Ctrl+C)
    iApplication::getInstance().stop();
}
</pre><p>So basically when the window was closed we have to shutdown the application too. Because otherwise the application would continue without having a window and therefore we don't get any more calls to our callbacks.</p>
<p>In an other scenario when we don't need a window that would be fine or course.</p>
<p>Besides using events the Keyboard device's key states can be retrived any time directly from the iKeyboard class. See the Interface documentation for that. And that's it. This is how we setup a window and some keyboard event handlers/callbacks/delegates. For further questions please contact <a href="https://github.com/tanzfisch">tanzfisch</a>. </p>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
		<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
			<ul>
				<li class="navelem"><a class="el" href="tutorials.html">Tutorials</a></li>
				<li class="footer">
					Generated on Tue May 28 2019 17:02:16 for Igor by <a href="http://www.doxygen.org/index.html">
					<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.8.
					Dark theme by <a href="http://majerle.eu" target="_new">Tilen Majerle</a>. All rights reserved.
				</li>
			</ul>
		</div>
		<script src="custom.js"></script>
	</body>
</html>