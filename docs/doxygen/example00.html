<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
		<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
		<meta http-equiv="X-UA-Compatible" content="IE=9"/>
		<meta name="generator" content="Doxygen 1.8.13"/>
		<meta name="viewport" content="width=device-width, initial-scale=1"/>
		<title>Igor: First Steps Example</title>
		<link href="tabs.css" rel="stylesheet" type="text/css"/>
		<script type="text/javascript" src="jquery.js"></script>
		<script type="text/javascript" src="dynsections.js"></script>
		<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
		<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
		<link href="doxygen.css" rel="stylesheet" type="text/css" />
		<link href="custom.css" rel="stylesheet" type="text/css"/>
<link href="custom_dark_theme.css" rel="stylesheet" type="text/css"/>
	</head>
	<body>
	<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
		<div id="titlearea">
			<table cellspacing="0" cellpadding="0">
				<tbody>
					<tr>
						<td id="projectlogo">                        
                            <div style="position: relative; height: 120px; width: 440px;">
                                <div style="position: absolute; float: right; right: 30px; bottom: 10px; z-index: 1000; background-color: transparent;">0.26.0</div>
                                <img alt="Logo" src="logo.png"></img>                            
                            </div>
                        </td>                            
					</tr>
				</tbody>
			</table>
		</div>
		<!-- end header part --><!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('example00.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">First Steps Example </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>In this very first example is explained how to get <a class="el" href="namespace_igor.html">Igor</a> up and running for the first time. Where to get it and what is minimum needed to start loop a bit and end an application using <a class="el" href="namespace_igor.html">Igor</a>.</p>
<h1>Build </h1>
<p>The code for this example can be found in the folder examples/00 FirstSteps. In a vs[ver] subfolder you will find a visual studio solution which contains example project but also all dependent projects. So you just open this one and than build and start. If everything went right you gonna see the following screen. If not please don't hasitate to contact <a href="https://github.com/tanzfisch">tanzfisch</a>.</p>
<div class="image">
<img src="Example00_Pic1.png" alt="Example00_Pic1.png"/>
<div class="caption">
First Steps Example</div></div>
 <h2>Main </h2>
<p>So what is it doing. Let's open main.cpp first. </p><pre class="fragment">#include "FirstSteps.h"

#include &lt;Igor.h&gt;
using namespace Igor;

int main(void)
{
    /*! call this before you call anything else of Igor
    */
    Igor::startup();

    // create and run first steps class
    FirstSteps* firstSteps = new FirstSteps();
    firstSteps-&gt;run();
    delete firstSteps;

    /*! call this after you are done with using Igor
    */
    Igor::shutdown();

    return 0;
}
</pre><p>Besides including <a class="el" href="igor_8h.html">Igor.h</a> you might notice only two <a class="el" href="namespace_igor.html">Igor</a> related commands are called. <a class="el" href="namespace_igor.html#a472510f542a6f710b0aa0e5924fb805d">Igor::startup</a> and <a class="el" href="namespace_igor.html#a76b8a2eed715a5c4c7b52bd75b515bc2">Igor::shutdown</a>. It is important that all other calls to <a class="el" href="namespace_igor.html">Igor</a> are made between those calls. Or in other words the very first thing to call from <a class="el" href="namespace_igor.html">Igor</a> is startup and the very last to call is shutdown.</p>
<p><a class="el" href="namespace_igor.html">Igor</a>'s startup is not doing much more then initializing the console and reading a configuration file if available but shutdown is doing a lot of cleanup and checking to give you a report e.g. about not release resources.</p>
<h2>FirstSteps class </h2>
<p>The class called FirstSteps is what we are going to have a look next. It is just personal flavor to put everything in that class you can also directly start making calls to <a class="el" href="namespace_igor.html">Igor</a>.</p>
<p>So there is really nothing interesting inside the header file. So we can skip that and have a look at the source file FirstSteps.cpp. </p><pre class="fragment">#include &lt;iApplication.h&gt;
#include &lt;iTimer.h&gt;
using namespace Igor;

// let's use the console to see what happens
#include &lt;iaConsole.h&gt;
using namespace IgorAux;
</pre><p>So here we have some more includes. First is <a class="el" href="i_application_8h.html">iApplication.h</a>. iApplication is handles basically the main loop of <a class="el" href="namespace_igor.html">Igor</a> once that one is started it will only end if said so. Second is <a class="el" href="i_timer_8h.html">iTimer.h</a>. That one contains timing functionality. It can tell you the current time since system start or the delta time since the last frame. And then there is the <a class="el" href="ia_console_8h.html">iaConsole.h</a> which is our logging console. Here you might notice that it's within a different namespace called <a class="el" href="namespace_igor_aux.html">IgorAux</a>. That's because the most common functionality of <a class="el" href="namespace_igor.html">Igor</a> was moved to a separate library so one can use it independently from <a class="el" href="namespace_igor.html">Igor</a>.</p>
<p>Let's have a look at the constructor of the FirstSteps class.</p>
<p><code>con_endl("ctor");</code></p>
<p>The very first thing is using the console to print some status on the console. <code>con_endl</code> is a <em>normal</em> message that has a line break in the end. Check out iConsole.h for more interfaces like con_assert, con_debug, con_err, con_warn and more.</p>
<p>The second line is way more interessting. It's about registering a callback to the main loop of our application. </p><pre class="fragment">iApplication::getInstance().registerApplicationHandleDelegate(ApplicationHandleDelegate(this, &amp;FirstSteps::onHandle));
</pre><p>It creates a delegate with the method <code>onHandle</code> of <code>this</code> instance and passes it the a register method of our singleton instance of the class iApplication. Internally the delegate will be bound to an event. And when ever this event is triggered the delegate will be called (it's basically something like a signal and slot mechanism).</p>
<p>In the destructor of our class you can see the the handle being unregistered again. This way we keep every thing consistent for a clean shutdown.</p>
<p>Let's have a look at the next method called run. </p><pre class="fragment">void FirstSteps::run()
{
    con_endl("run");

    // starts the applications endless loop
    iApplication::getInstance().run();
}
</pre><p>It basically does only one thing. It calls the applications run method which contains the main loop of <a class="el" href="namespace_igor.html">Igor</a>. <code>run</code> will not return until we tell <a class="el" href="namespace_igor.html">Igor</a> to stop. And we gonna do that in our last method called onHandle.</p>
<p>As said before the onHandle method will be called by <a class="el" href="namespace_igor.html">Igor</a> every frame. So we just use this to simply let it run a few times controlled by a counter and then make <a class="el" href="namespace_igor.html">Igor</a> stop by calling <code>iApplication::getInstance().stop();</code>. </p><pre class="fragment">void FirstSteps::onHandle()
{
    // since there is nothing to do for the application besides init and deinit some internal stuff
    // the handle will be called es often as possible. which should be reflected in a verry high frame rate

    // lets count
    _counter++;

    // print the counter
    con_endl("handle " &lt;&lt; _counter);

    if (_counter &gt;= 5)
    {
        // breaks the applications endless loop
        iApplication::getInstance().stop();
        con_endl("ms since the programm started " &lt;&lt; iTimer::getInstance().getTime() - _time);
    }
}
</pre><p>As alternative to using iApplication::run which starts Igors main loop you can implement your own main loop and call iApplication::iterate in it. You can find an example for that in main.cpp.</p>
<p>And that's already it. This is how we setup <a class="el" href="namespace_igor.html">Igor</a>, start and stop it again. For further questions please contact <a href="https://github.com/tanzfisch">tanzfisch</a>. </p>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
		<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
			<ul>
				<li class="navelem"><a class="el" href="tutorials.html">Tutorials</a></li>
				<li class="footer">
					Generated by <a href="http://www.doxygen.org/index.html">
					<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13.
					Dark theme by <a href="http://majerle.eu" target="_new">Tilen Majerle</a>. All rights reserved.
				</li>
			</ul>
		</div>
		<script src="custom.js"></script>
	</body>
</html>